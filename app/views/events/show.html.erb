
<main class="main-content">
  <div class="event-hero">
    <%# if @event.image.attached? %>
      <%#= image_tag @event.image, class: 'event-image', alt: @event.title %>
    <%# else %>
      <%#= image_tag 'placeholder.jpg', class: 'event-image', alt: 'Placeholder Image' %>
    <%# end %>
    <div class="event-hero-content">
      <h1 class="event-title"><%= @event.title %></h1>
      <p class="event-date"><i class="fas fa-calendar-alt"></i> <%= l(@event.date, format: :long) %></p>
      <p class="event-location"><i class="fas fa-map-marker-alt"></i> <%= @event.location %></p>
    </div>
  </div>

  <div class="event-details-container">
    <section class="event-description-section">
      <h2>Описание</h2>
      <p class="event-description"><%= @event.description %></p>
    </section>

    <section class="event-organizer-section">
      <h2>Организатор</h2>
      <p><i class="fas fa-user"></i> <%= @event.organizer.email %></p>
    </section>

    <div class="event-actions">
      <% if user_signed_in? && current_user == @event.organizer %>
        <%= link_to 'Редактировать', edit_event_path(@event), class: 'btn btn-edit' %>
        <%= link_to 'Удалить', @event, method: :delete, data: { confirm: 'Вы уверены?' }, class: 'btn btn-delete' %>
      <% end %>

      <% if user_signed_in? && @event.users.include?(current_user) %>
        <%= link_to 'Отменить регистрацию', event_event_registration_path(@event), method: :delete, class: 'btn btn-cancel' %>
      <% else %>
        <%= link_to 'Зарегистрироваться', event_event_registrations_path(event_id: @event.id), method: :post, class: 'btn btn-register' %>
      <% end %>
    </div>

    <div class="back-link">
      <%= link_to 'Назад к списку', events_path, class: 'btn btn-back' %>
    </div>
  </div>
</main>
